<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>进击3D-threejs(一) | 追旅</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="

记得自己做前端是看到了很酷的特效，感觉热血沸腾，一下子就冲到前端的队伍中去，实际工作中确实各种后台管理、H5(涉及一些动画)，然后就是一 ...">
    
    <link rel="preload" href="/chJouBlog/assets/css/0.styles.5879e8a8.css" as="style"><link rel="preload" href="/chJouBlog/assets/js/app.5281558a.js" as="script"><link rel="preload" href="/chJouBlog/assets/js/15.3f4c1bb4.js" as="script"><link rel="preload" href="/chJouBlog/assets/js/3.04e6d7cd.js" as="script"><link rel="preload" href="/chJouBlog/assets/js/24.941abb95.js" as="script"><link rel="prefetch" href="/chJouBlog/assets/js/10.b343cc56.js"><link rel="prefetch" href="/chJouBlog/assets/js/11.8ab78b39.js"><link rel="prefetch" href="/chJouBlog/assets/js/12.136f10f7.js"><link rel="prefetch" href="/chJouBlog/assets/js/13.904646c6.js"><link rel="prefetch" href="/chJouBlog/assets/js/14.57e1ca23.js"><link rel="prefetch" href="/chJouBlog/assets/js/16.c7e00281.js"><link rel="prefetch" href="/chJouBlog/assets/js/17.9f0f5395.js"><link rel="prefetch" href="/chJouBlog/assets/js/18.4cb9bf7e.js"><link rel="prefetch" href="/chJouBlog/assets/js/19.a78d26b1.js"><link rel="prefetch" href="/chJouBlog/assets/js/20.c58f6abe.js"><link rel="prefetch" href="/chJouBlog/assets/js/21.88ae718e.js"><link rel="prefetch" href="/chJouBlog/assets/js/22.6a50b631.js"><link rel="prefetch" href="/chJouBlog/assets/js/23.40c0f816.js"><link rel="prefetch" href="/chJouBlog/assets/js/25.1152d08a.js"><link rel="prefetch" href="/chJouBlog/assets/js/26.fe1cc76f.js"><link rel="prefetch" href="/chJouBlog/assets/js/27.cf8f71bb.js"><link rel="prefetch" href="/chJouBlog/assets/js/28.93e44d94.js"><link rel="prefetch" href="/chJouBlog/assets/js/29.64607d72.js"><link rel="prefetch" href="/chJouBlog/assets/js/30.e66eada0.js"><link rel="prefetch" href="/chJouBlog/assets/js/31.4c9d5ea4.js"><link rel="prefetch" href="/chJouBlog/assets/js/32.953fd9a8.js"><link rel="prefetch" href="/chJouBlog/assets/js/33.f418d142.js"><link rel="prefetch" href="/chJouBlog/assets/js/34.0afd876c.js"><link rel="prefetch" href="/chJouBlog/assets/js/35.b21d65e5.js"><link rel="prefetch" href="/chJouBlog/assets/js/36.da50bf16.js"><link rel="prefetch" href="/chJouBlog/assets/js/37.9ba1ea57.js"><link rel="prefetch" href="/chJouBlog/assets/js/38.44410f26.js"><link rel="prefetch" href="/chJouBlog/assets/js/39.52019a9b.js"><link rel="prefetch" href="/chJouBlog/assets/js/4.15bd6784.js"><link rel="prefetch" href="/chJouBlog/assets/js/40.6c8c824a.js"><link rel="prefetch" href="/chJouBlog/assets/js/41.3294c25c.js"><link rel="prefetch" href="/chJouBlog/assets/js/42.e794f555.js"><link rel="prefetch" href="/chJouBlog/assets/js/43.7f698dd5.js"><link rel="prefetch" href="/chJouBlog/assets/js/44.9f631374.js"><link rel="prefetch" href="/chJouBlog/assets/js/45.0b55b3bc.js"><link rel="prefetch" href="/chJouBlog/assets/js/46.4a3b78df.js"><link rel="prefetch" href="/chJouBlog/assets/js/47.6e48a5aa.js"><link rel="prefetch" href="/chJouBlog/assets/js/48.73166cc3.js"><link rel="prefetch" href="/chJouBlog/assets/js/49.bd935797.js"><link rel="prefetch" href="/chJouBlog/assets/js/5.361faf97.js"><link rel="prefetch" href="/chJouBlog/assets/js/50.f5ced98e.js"><link rel="prefetch" href="/chJouBlog/assets/js/51.2bd1375c.js"><link rel="prefetch" href="/chJouBlog/assets/js/52.c9c3a4e2.js"><link rel="prefetch" href="/chJouBlog/assets/js/53.14a17f3b.js"><link rel="prefetch" href="/chJouBlog/assets/js/54.7c7fb03e.js"><link rel="prefetch" href="/chJouBlog/assets/js/55.5442b93b.js"><link rel="prefetch" href="/chJouBlog/assets/js/56.027a8aaa.js"><link rel="prefetch" href="/chJouBlog/assets/js/57.48ab5d13.js"><link rel="prefetch" href="/chJouBlog/assets/js/58.b8b916b0.js"><link rel="prefetch" href="/chJouBlog/assets/js/59.ca2e1111.js"><link rel="prefetch" href="/chJouBlog/assets/js/6.d65cbc8e.js"><link rel="prefetch" href="/chJouBlog/assets/js/60.4b61d88a.js"><link rel="prefetch" href="/chJouBlog/assets/js/61.101112f3.js"><link rel="prefetch" href="/chJouBlog/assets/js/62.a54f6b84.js"><link rel="prefetch" href="/chJouBlog/assets/js/63.0e84801a.js"><link rel="prefetch" href="/chJouBlog/assets/js/64.dd74ab6e.js"><link rel="prefetch" href="/chJouBlog/assets/js/65.a90019d7.js"><link rel="prefetch" href="/chJouBlog/assets/js/66.7499fb93.js"><link rel="prefetch" href="/chJouBlog/assets/js/67.ea3906e2.js"><link rel="prefetch" href="/chJouBlog/assets/js/68.3734f532.js"><link rel="prefetch" href="/chJouBlog/assets/js/69.e50c3a46.js"><link rel="prefetch" href="/chJouBlog/assets/js/7.9771fa42.js"><link rel="prefetch" href="/chJouBlog/assets/js/70.8fe5a89a.js"><link rel="prefetch" href="/chJouBlog/assets/js/71.183b7825.js"><link rel="prefetch" href="/chJouBlog/assets/js/72.6cd61a3c.js"><link rel="prefetch" href="/chJouBlog/assets/js/73.86ba1b57.js"><link rel="prefetch" href="/chJouBlog/assets/js/74.3cac71f8.js"><link rel="prefetch" href="/chJouBlog/assets/js/75.88c0403a.js"><link rel="prefetch" href="/chJouBlog/assets/js/76.6a54b829.js"><link rel="prefetch" href="/chJouBlog/assets/js/77.e3866b97.js"><link rel="prefetch" href="/chJouBlog/assets/js/78.05ffc224.js"><link rel="prefetch" href="/chJouBlog/assets/js/79.f5c873df.js"><link rel="prefetch" href="/chJouBlog/assets/js/8.519cc269.js"><link rel="prefetch" href="/chJouBlog/assets/js/80.52720076.js"><link rel="prefetch" href="/chJouBlog/assets/js/81.ab32ab7a.js"><link rel="prefetch" href="/chJouBlog/assets/js/82.5366b83a.js"><link rel="prefetch" href="/chJouBlog/assets/js/83.f225c179.js"><link rel="prefetch" href="/chJouBlog/assets/js/84.cced7229.js"><link rel="prefetch" href="/chJouBlog/assets/js/85.04749aac.js"><link rel="prefetch" href="/chJouBlog/assets/js/86.bc0e76e1.js"><link rel="prefetch" href="/chJouBlog/assets/js/87.4191d7e7.js"><link rel="prefetch" href="/chJouBlog/assets/js/88.03eb1bd8.js"><link rel="prefetch" href="/chJouBlog/assets/js/89.2aea3697.js"><link rel="prefetch" href="/chJouBlog/assets/js/9.3cd676ef.js"><link rel="prefetch" href="/chJouBlog/assets/js/90.f42686fa.js"><link rel="prefetch" href="/chJouBlog/assets/js/91.59c83126.js"><link rel="prefetch" href="/chJouBlog/assets/js/92.9c730e00.js"><link rel="prefetch" href="/chJouBlog/assets/js/93.601f5f7b.js"><link rel="prefetch" href="/chJouBlog/assets/js/94.04ae3473.js"><link rel="prefetch" href="/chJouBlog/assets/js/vuejs-paginate.386923ba.js">
    <link rel="stylesheet" href="/chJouBlog/assets/css/0.styles.5879e8a8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/chJouBlog/" class="nav-link home-link">追旅 </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/chJouBlog/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/chJouBlog/tag/" class="nav-link">Tags</a></li><li class="nav-item"><a href="/chJouBlog/author.html" class="nav-link">Author</a></li><li class="nav-item"><a href="/chJouBlog/log.html" class="nav-link">Log</a></li><li class="nav-item"><a href="https://github.com/xwei111/chJouBlog" target="_blank" rel="noopener noreferrer" class="nav-link external">GitHub</a></li><li class="nav-item"><a href="https://xwei111.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">XW-UI</a></li><li class="nav-item"><a href="https://ludd.link" target="_blank" rel="noopener noreferrer" class="nav-link external">Ludd</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/chJouBlog/" class="nav-link mobile-home-link">追旅 </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/chJouBlog/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/chJouBlog/tag/" class="nav-link">Tags</a></li><li class="mobile-nav-item"><a href="/chJouBlog/author.html" class="nav-link">Author</a></li><li class="mobile-nav-item"><a href="/chJouBlog/log.html" class="nav-link">Log</a></li><li class="mobile-nav-item"><a href="https://github.com/xwei111/chJouBlog" target="_blank" rel="noopener noreferrer" class="nav-link external">GitHub</a></li><li class="mobile-nav-item"><a href="https://xwei111.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">XW-UI</a></li><li class="mobile-nav-item"><a href="https://ludd.link" target="_blank" rel="noopener noreferrer" class="nav-link external">Ludd</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        进击3D-threejs(一)
      </h1> <div class="post-meta"><div itemprop="publisher author" itemtype="http://schema.org/Person" itemscope="itemscope" class="post-meta-author"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-navigation"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg> <span itemprop="name">追旅</span> <span itemprop="address">   in 杭州滨江</span></div> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2020-08-10T00:00:00.000Z">
      Mon Aug 10 2020
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-42ccfcd5><a href="/chJouBlog/tag/three.js" data-v-42ccfcd5><span data-v-42ccfcd5>three.js</span></a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>记得自己做前端是看到了很酷的特效，感觉热血沸腾，一下子就冲到前端的队伍中去，实际工作中确实各种后台管理、H5(涉及一些动画)，然后就是一些大屏，技术倒是用的也不少，从最开始的JQ(好几年没用过了)到vue、react再到支付宝微信小程序(包括uni-app)基本都是在2D的世界里徘徊，对3D世界充满向往，奈何自己没文化，一声叹气撸代码！</p> <p>最近还是决定来学一下3D，想了想从WebGL和计算机图形学入手周期较长，先去了解一下threejs，在回过头来学习。做个学习小笔记</p> <h2 id="三要素"><a href="#三要素" class="header-anchor">#</a> 三要素</h2> <ul><li>渲染器(renderer)</li></ul> <p>渲染器应该类似于视网膜（猜的），决定了我们渲染到页面的方式和效果，threejs提供了很多渲染器，CanvasRenderer、WebGLRenderer等，WebGLRenderer渲染性能及渲染效果好于CanvasRenderer，兼容性上要劣于CanvasRenderer。</p> <ul><li>场景(scene)</li></ul> <p>场景就是大千世界，承载着所要展示的物体、光源等，相当于一个容器</p> <ul><li>相机(camera)</li></ul> <p>相机相当于人的眼睛，从不同角度看到的物体也是不相同的。常用的相机有正交（orthographic）相机和透视（perspective）相机</p> <p>三要素是缺一不可的，我们之后对3D的探索也都是围绕着这三要素展开的，开始探索的3D世界吧！！！</p> <h2 id="相机"><a href="#相机" class="header-anchor">#</a> 相机</h2> <p>相机这部分还是需要单独拎出来研究一下的，3D的很多效果都是操作相机实现的。</p> <h3 id="正交相机-orthographiccamera"><a href="#正交相机-orthographiccamera" class="header-anchor">#</a> 正交相机(OrthographicCamera)</h3> <p><a href="https://chasejourney.top/three_demo/index-1.html" target="_blank" rel="noopener noreferrer">demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/xwei111/three_demo/blob/master/index-1.html" target="_blank" rel="noopener noreferrer">代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="/chJouBlog/assets/img/20200806threejs-1.50af12d4.png" alt="An image"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">THREE</span><span class="token punctuation">.</span><span class="token function">OrthographicCamera</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> top<span class="token punctuation">,</span> bottom<span class="token punctuation">,</span> near<span class="token punctuation">,</span> far<span class="token punctuation">)</span>
</code></pre></div><p>正交相机是由左、右、上、下、远、近六个面组成，正交相机不会随着距离的改变改变物体的大小，使用正交相机的时候为了保证渲染结果的比例正常需要保证(right-left) / (top - bottom)等于canvas宽 / 高</p> <table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>left</td> <td>左面位置</td></tr> <tr><td>right</td> <td>右面位置</td></tr> <tr><td>top</td> <td>左面位置</td></tr> <tr><td>bottom</td> <td>左面位置</td></tr> <tr><td>near</td> <td>左面位置</td></tr> <tr><td>far</td> <td>左面位置</td></tr></tbody></table> <h3 id="透视相机-perspectivecamera"><a href="#透视相机-perspectivecamera" class="header-anchor">#</a> 透视相机(PerspectiveCamera)</h3> <p><a href="https://chasejourney.top/three_demo/index-2.html" target="_blank" rel="noopener noreferrer">demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/xwei111/three_demo/blob/master/index-2.html" target="_blank" rel="noopener noreferrer">代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="/chJouBlog/assets/img/20200806threejs-2.752c1810.png" alt="An image"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">THREE</span><span class="token punctuation">.</span><span class="token function">PerspectiveCamera</span><span class="token punctuation">(</span>fov<span class="token punctuation">,</span> aspect<span class="token punctuation">,</span> near<span class="token punctuation">,</span> far<span class="token punctuation">)</span>
</code></pre></div><p>透视相机更像人的眼睛，离相机越远物体越小，相机可以通过<code>camera.position.set</code>和 <code>camera5.lookAt</code>来设置相机的位置和观察的位置</p> <table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>fov</td> <td>视野角度</td></tr> <tr><td>aspect</td> <td>渲染区域的纵横比</td></tr> <tr><td>near</td> <td>最近距镜头的位置</td></tr> <tr><td>far</td> <td>最远距镜头的位置</td></tr></tbody></table> <h2 id="几何体"><a href="#几何体" class="header-anchor">#</a> 几何体</h2> <p><a href="https://chasejourney.top/three_demo/index-3.html" target="_blank" rel="noopener noreferrer">demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/xwei111/three_demo/blob/master/index-3.html" target="_blank" rel="noopener noreferrer">代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="长方形"><a href="#长方形" class="header-anchor">#</a> 长方形</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>PlaneGeometry</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> widthSegments<span class="token punctuation">,</span> heightSegments <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>width</td> <td>x轴长度</td></tr> <tr><td>height</td> <td>y轴长度</td></tr> <tr><td>widthSegments</td> <td>x轴分段数</td></tr> <tr><td>heightSegments</td> <td>y轴分段数</td></tr></tbody></table> <h3 id="长方体"><a href="#长方体" class="header-anchor">#</a> 长方体</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">THREE</span><span class="token punctuation">.</span><span class="token function">CubeGeometry</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> depth<span class="token punctuation">,</span> widthSegments<span class="token punctuation">,</span> heightSegments<span class="token punctuation">,</span> depthSegments<span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>width</td> <td>x轴长度</td></tr> <tr><td>height</td> <td>y轴长度</td></tr> <tr><td>depth</td> <td>z轴长度</td></tr> <tr><td>widthSegments</td> <td>x轴分段</td></tr> <tr><td>heightSegments</td> <td>y轴分段</td></tr> <tr><td>depthSegments</td> <td>z轴分段</td></tr></tbody></table> <p>顶点数量计算公式： (widthSegments + 1) * (heightSegments + 1) * (depthSegments + 1) - (widthSegments - 1) * (heightSegments -1) * (depthSegments -1)</p> <h3 id="圆"><a href="#圆" class="header-anchor">#</a> 圆</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">THREE</span><span class="token punctuation">.</span><span class="token function">CircleGeometry</span><span class="token punctuation">(</span>radius<span class="token punctuation">,</span> segments<span class="token punctuation">,</span> thetaStart<span class="token punctuation">,</span> thetaLength<span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>radius</td> <td>半径</td></tr> <tr><td>segments</td> <td>分段数</td></tr> <tr><td>thetaStart</td> <td>开始的弧度</td></tr> <tr><td>thetaLength</td> <td>跨过的弧度</td></tr></tbody></table> <h3 id="球体"><a href="#球体" class="header-anchor">#</a> 球体</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">THREE</span><span class="token punctuation">.</span><span class="token function">SphereGeometry</span><span class="token punctuation">(</span>radius<span class="token punctuation">,</span> segmentsWidth<span class="token punctuation">,</span> segmentsHeight<span class="token punctuation">,</span> phiStart<span class="token punctuation">,</span> phiLength<span class="token punctuation">,</span> thetaStart<span class="token punctuation">,</span> thetaLength<span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>radius</td> <td>半径</td></tr> <tr><td>segmentsWidth</td> <td>经度上的切片数</td></tr> <tr><td>segmentsHeight</td> <td>纬度上的切片数</td></tr> <tr><td>phiStart</td> <td>经度开始的弧度</td></tr> <tr><td>phiLength</td> <td>经度跨过的弧度</td></tr> <tr><td>thetaStart</td> <td>纬度开始的弧度</td></tr> <tr><td>thetaLength</td> <td>纬度跨过的弧度</td></tr></tbody></table> <p>顶点数量计算公式： segmentsWidth * ( segmentsHeight - 1 ) + 2</p> <h3 id="圆柱体"><a href="#圆柱体" class="header-anchor">#</a> 圆柱体</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">THREE</span><span class="token punctuation">.</span><span class="token function">CylinderGeometry</span><span class="token punctuation">(</span>radiusTop<span class="token punctuation">,</span> radiusBottom<span class="token punctuation">,</span> height<span class="token punctuation">,</span> radiusSegments<span class="token punctuation">,</span> heightSegments<span class="token punctuation">,</span> openEnded<span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>radiusTop</td> <td>顶圆半径</td></tr> <tr><td>radiusBottom</td> <td>底圆半径</td></tr> <tr><td>height</td> <td>高度</td></tr> <tr><td>radiusSegments</td> <td>上下圆截面分段</td></tr> <tr><td>heightSegments</td> <td>圆柱体竖直方向上分段</td></tr> <tr><td>openEnded</td> <td>Boolean值，是否有顶面和底面，默认为true即有</td></tr></tbody></table> <h3 id="正四面体"><a href="#正四面体" class="header-anchor">#</a> 正四面体</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">THREE</span><span class="token punctuation">.</span><span class="token function">TetrahedronGeometry</span><span class="token punctuation">(</span>radius<span class="token punctuation">,</span> detail<span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>radius</td> <td>半径</td></tr> <tr><td>detail</td> <td>细节层次</td></tr></tbody></table> <h3 id="圆环面"><a href="#圆环面" class="header-anchor">#</a> 圆环面</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">THREE</span><span class="token punctuation">.</span><span class="token function">TorusGeometry</span><span class="token punctuation">(</span>radius<span class="token punctuation">,</span> tube<span class="token punctuation">,</span> radialSegments<span class="token punctuation">,</span> tubularSegments<span class="token punctuation">,</span> arc<span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>radius</td> <td>圆环半径</td></tr> <tr><td>tube</td> <td>管道半径</td></tr> <tr><td>radialSegments</td> <td>圆环分段</td></tr> <tr><td>tubularSegments</td> <td>管道分段</td></tr> <tr><td>arc</td> <td>圆环弧度</td></tr></tbody></table> <h3 id="圆环结"><a href="#圆环结" class="header-anchor">#</a> 圆环结</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">THREE</span><span class="token punctuation">.</span><span class="token function">TorusKnotGeometry</span><span class="token punctuation">(</span>radius<span class="token punctuation">,</span> tube<span class="token punctuation">,</span> radialSegments<span class="token punctuation">,</span> tubularSegments<span class="token punctuation">,</span> p<span class="token punctuation">,</span> q<span class="token punctuation">,</span> heightScale<span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>radius</td> <td>圆环半径</td></tr> <tr><td>tube</td> <td>管道半径</td></tr> <tr><td>radialSegments</td> <td>圆环分段</td></tr> <tr><td>tubularSegments</td> <td>管道分段</td></tr> <tr><td>p</td> <td>整个圆环围着圆心绕了多少圈</td></tr> <tr><td>q</td> <td>整个圆环的内部扭了多少个结</td></tr> <tr><td>heightScale</td> <td>z轴缩放</td></tr></tbody></table> <h3 id="自定义形状"><a href="#自定义形状" class="header-anchor">#</a> 自定义形状</h3> <p>除了threejs提供的形状外，还可以自定义形状，自定义形状需要定义每一个顶点，对于复杂的图形可以导入模型，提供的demo有涉及到一些新的api，自行参考</p> <h2 id="材质"><a href="#材质" class="header-anchor">#</a> 材质</h2> <p>材质和灯光无法分割开来，所以我们放在一块学习</p> <p><a href="https://chasejourney.top/three_demo/index-4.html" target="_blank" rel="noopener noreferrer">demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/xwei111/three_demo/blob/master/index-4.html" target="_blank" rel="noopener noreferrer">代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="基本材质"><a href="#基本材质" class="header-anchor">#</a> 基本材质</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">THREE</span><span class="token punctuation">.</span><span class="token function">MeshBasicMaterial</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
</code></pre></div><p>基本材质不会反光、不会产生阴影，不指定颜色时随机颜色，options常用属性如下：</p> <table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>visible</td> <td>是否可见，默认为true</td></tr> <tr><td>side</td> <td>渲染面片正面或是反面，默认为正面THREE.FrontSide，可设置为反面THREE.BackSide，或双面THREE.DoubleSide</td></tr> <tr><td>wireframe</td> <td>是否渲染线而非面</td></tr> <tr><td>color</td> <td>颜色</td></tr> <tr><td>map</td> <td>纹理</td></tr></tbody></table> <h3 id="lambert材质"><a href="#lambert材质" class="header-anchor">#</a> Lambert材质</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">THREE</span><span class="token punctuation">.</span><span class="token function">MeshLambertMaterial</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
</code></pre></div><p>Lambert光照模型的主要特点是只考虑漫反射而不考虑镜面反射的效果，因而对于金属、镜子等需要镜面反射效果的物体就不适应，对于其他大部分物体的漫反射效果都是适用的</p> <table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>color</td> <td>颜色</td></tr> <tr><td>ambient</td> <td>环境光（AmbientLight）反射颜色</td></tr> <tr><td>emissive</td> <td>自发光颜色</td></tr></tbody></table> <h3 id="phong材质"><a href="#phong材质" class="header-anchor">#</a> Phong材质</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">THREE</span><span class="token punctuation">.</span><span class="token function">MeshPhongMaterial</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
</code></pre></div><p>Phong材质除了Lambert材质特点还考虑了镜面反射的效果，因此对于金属、镜面的表现尤为适合</p> <table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>color</td> <td>颜色</td></tr> <tr><td>ambient</td> <td>环境光（AmbientLight）反射颜色</td></tr> <tr><td>emissive</td> <td>自发光颜色</td></tr> <tr><td>specular</td> <td>镜面反射系数</td></tr> <tr><td>shininess</td> <td>光斑大小</td></tr></tbody></table> <h3 id="法向材质"><a href="#法向材质" class="header-anchor">#</a> 法向材质</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">THREE</span><span class="token punctuation">.</span><span class="token function">MeshNormalMaterial</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>法向材质不需要设置参数，适合调试</p> <h3 id="纹理"><a href="#纹理" class="header-anchor">#</a> 纹理</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> textureLoader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>TextureLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> texture <span class="token operator">=</span> textureLoader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">'./test.png'</span><span class="token punctuation">)</span>
<span class="token constant">THREE</span><span class="token punctuation">.</span><span class="token function">MeshLambertMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">map</span><span class="token operator">:</span> texture <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="光"><a href="#光" class="header-anchor">#</a> 光</h2> <p><a href="https://chasejourney.top/three_demo/index-4.html" target="_blank" rel="noopener noreferrer">demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/xwei111/three_demo/blob/master/index-4.html" target="_blank" rel="noopener noreferrer">代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="环境光"><a href="#环境光" class="header-anchor">#</a> 环境光</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">THREE</span><span class="token punctuation">.</span><span class="token function">AmbientLight</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
</code></pre></div><p>环境光只需要指定颜色</p> <h3 id="点光源"><a href="#点光源" class="header-anchor">#</a> 点光源</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">THREE</span><span class="token punctuation">.</span><span class="token function">PointLight</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> intensity<span class="token punctuation">,</span> distance<span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>color</td> <td>颜色</td></tr> <tr><td>intensity</td> <td>亮度</td></tr> <tr><td>distance</td> <td>最远距离</td></tr></tbody></table> <h3 id="平行光"><a href="#平行光" class="header-anchor">#</a> 平行光</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">THREE</span><span class="token punctuation">.</span><span class="token function">DirectionalLight</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> intensity<span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>color</td> <td>颜色</td></tr> <tr><td>intensity</td> <td>亮度</td></tr></tbody></table> <h3 id="聚光灯"><a href="#聚光灯" class="header-anchor">#</a> 聚光灯</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">THREE</span><span class="token punctuation">.</span><span class="token function">SpotLight</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> intensity<span class="token punctuation">,</span> distance<span class="token punctuation">,</span> angle<span class="token punctuation">,</span> exponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>color</td> <td>颜色</td></tr> <tr><td>intensity</td> <td>亮度</td></tr> <tr><td>distance</td> <td>最远距离</td></tr> <tr><td>angle</td> <td>灯光角度，默认Math.PI / 3，最大Math.PI / 2</td></tr> <tr><td>exponent</td> <td>光强在偏离target的衰减指数，默认10</td></tr></tbody></table> <h2 id="阴影"><a href="#阴影" class="header-anchor">#</a> 阴影</h2> <p><a href="https://chasejourney.top/three_demo/index-5.html" target="_blank" rel="noopener noreferrer">demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/xwei111/three_demo/blob/master/index-5.html" target="_blank" rel="noopener noreferrer">代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>接收阴影材质(产生阴影的材质)需要是<code>LambertMaterial</code>或者<code>PhongMaterial</code></li> <li>产生阴影的灯光可以为<code>PointLight</code>、<code>DirectionalLight</code>、<code>SpotLight</code></li></ul> <p>除了上述灯光和材质，还需要做一下配置</p> <ul><li>渲染器</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>renderer<span class="token punctuation">.</span>shadowMap<span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>灯光</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>light<span class="token punctuation">.</span>castShadow <span class="token operator">=</span> <span class="token boolean">true</span>
</code></pre></div><ul><li>产生阴影物体</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>mesh<span class="token punctuation">.</span>castShadow <span class="token operator">=</span> <span class="token boolean">true</span>
</code></pre></div><ul><li>接收阴影物体</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>mesh<span class="token punctuation">.</span>receiveShadow <span class="token operator">=</span> <span class="token boolean">true</span>
</code></pre></div><p>设置好以上条件就可以看到产生的阴影了</p> <h2 id="字体"><a href="#字体" class="header-anchor">#</a> 字体</h2> <p><a href="https://chasejourney.top/three_demo/index-6.html" target="_blank" rel="noopener noreferrer">demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/xwei111/three_demo/blob/master/index-6.html" target="_blank" rel="noopener noreferrer">代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">THREE</span><span class="token punctuation">.</span><span class="token function">TextGeometry</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> parameters<span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>size</td> <td>字号</td></tr> <tr><td>height</td> <td>文字厚度</td></tr> <tr><td>curveSegments</td> <td>弧线分段数，使得文字的曲线更加光滑</td></tr> <tr><td>font</td> <td>字体</td></tr> <tr><td>bevelEnabled</td> <td>布尔值，是否开启斜角</td></tr> <tr><td>bevelThickness</td> <td>文本上斜角的深度</td></tr> <tr><td>bevelSize</td> <td>斜角与原始文本轮廓之间的延伸距离</td></tr> <tr><td>bevelSegments</td> <td>斜角的分段数</td></tr></tbody></table> <p>可以到<a href="https://github.com/mrdoob/three.js/tree/master/examples/fonts" target="_blank" rel="noopener noreferrer">文字<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>下载自己需要的字体，文字像图片一样需要加载，如下</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> loader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>FontLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

loader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">'./assets/fonts/gentilis_bold.typeface.json'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">font</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    mesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>
      <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>TextGeometry</span><span class="token punctuation">(</span><span class="token string">'Journey'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">font</span><span class="token operator">:</span> font<span class="token punctuation">,</span> <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token number">0.7</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
      material
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>mesh<span class="token punctuation">)</span><span class="token punctuation">;</span>
    renderer<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>scene<span class="token punctuation">,</span> camera<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="外部模型"><a href="#外部模型" class="header-anchor">#</a> 外部模型</h2> <p><a href="https://chasejourney.top/three_demo/index-7.html" target="_blank" rel="noopener noreferrer">demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/xwei111/three_demo/blob/master/index-7.html" target="_blank" rel="noopener noreferrer">代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
加载有点慢</p> <p>对于一些复杂的几何体如果自己去画的话成本相当的高，所以引入外部模型会是一个非常好的选择，threejs支持多种格式的3D模型导入，包括*.obj、<em>.3mf、</em>.amf、<em>.pmd、</em>.json、<em>.ctm、</em>.dae、*.stl等，导入不同的模型需要使用不同的<a href="https://github.com/mrdoob/three.js/tree/dev/examples/js/loaders" target="_blank" rel="noopener noreferrer">导入工具<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，3D模型可以网上找一些<a href="http://www.aigei.com/3d/model/?order=last&amp;page=" target="_blank" rel="noopener noreferrer">免费模型<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>下载模(型体积越大加载的越慢)</p> <p>以*.obj为例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;./assets/js/OBJLoader.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;./assets/js/MTLLoader.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token comment">// 自定义材质</span>
  <span class="token keyword">const</span> loader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>OBJLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  loader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">'./car.obj'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      obj<span class="token punctuation">.</span><span class="token function">traverse</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">child</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>child <span class="token keyword">instanceof</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              child<span class="token punctuation">.</span>material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshLambertMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#ff0'</span><span class="token punctuation">,</span> <span class="token literal-property property">emissive</span><span class="token operator">:</span> <span class="token string">'#f00'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 材质</span>
              child<span class="token punctuation">.</span>material<span class="token punctuation">.</span>side <span class="token operator">=</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>DoubleSide<span class="token punctuation">;</span> <span class="token comment">// 双面绘制</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      scene1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// 模型材质</span>
  <span class="token keyword">const</span> basePath <span class="token operator">=</span> <span class="token string">'./img/'</span><span class="token punctuation">;</span>
  <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MTLLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span>basePath<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">'/car.mtl'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">materials</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          materials<span class="token punctuation">.</span><span class="token function">preload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>OBJLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">setMaterials</span><span class="token punctuation">(</span>materials<span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span>basePath<span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">'/car.obj'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  obj<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> scene2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
                  renderer2<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>scene2<span class="token punctuation">,</span> camera<span class="token punctuation">)</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h2 id="粒子"><a href="#粒子" class="header-anchor">#</a> 粒子</h2> <ul><li>Sprite</li></ul> <p><a href="https://chasejourney.top/three_demo/index-8.html" target="_blank" rel="noopener noreferrer">demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/xwei111/three_demo/blob/master/index-8.html" target="_blank" rel="noopener noreferrer">代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>sprite称之为精灵，总是面向摄像机，不会投射任何阴影</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>SpriteMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#f00'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> sprite <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Sprite</span><span class="token punctuation">(</span>material<span class="token punctuation">)</span>
</code></pre></div><p>SpriteMaterial参数：</p> <table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>color</td> <td>颜色</td></tr> <tr><td>fog</td> <td>是否受场景雾的影响(Boolean)</td></tr> <tr><td>lights</td> <td>材质是否受到光照的影响(Boolean)</td></tr> <tr><td>map</td> <td>贴图、纹理</td></tr> <tr><td>rotation</td> <td>旋转弧度</td></tr> <tr><td>sizeAttenuation</td> <td>精灵的大小是否会被相机深度衰减(Boolean)</td></tr></tbody></table> <ul><li>Points</li></ul> <p><a href="https://chasejourney.top/three_demo/index-9.html" target="_blank" rel="noopener noreferrer">demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/xwei111/three_demo/blob/master/index-9.html" target="_blank" rel="noopener noreferrer">代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://chasejourney.top/three_demo/index-10.html" target="_blank" rel="noopener noreferrer">飘雪效果<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/xwei111/three_demo/blob/master/index-10.html" target="_blank" rel="noopener noreferrer">代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>points可以创建粒子系统</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>SphereGeometry</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>PointsMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#fff'</span><span class="token punctuation">,</span> <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token number">0.3</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> points <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Points</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span> material<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>PointsMaterial参数：</p> <table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>color</td> <td>颜色</td></tr> <tr><td>size</td> <td>点的大小</td></tr> <tr><td>map</td> <td>贴图、纹理</td></tr> <tr><td>sizeAttenuation</td> <td>点的大小是否会被相机深度衰减(Boolean)</td></tr></tbody></table> <h2 id="ascii效果"><a href="#ascii效果" class="header-anchor">#</a> ASCII效果</h2> <p><a href="https://chasejourney.top/three_demo/index-11.html" target="_blank" rel="noopener noreferrer">demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/xwei111/three_demo/blob/master/index-11.html" target="_blank" rel="noopener noreferrer">代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>这个效果需要改变一下renderer的方式，如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">'./assets/js/AsciiEffect.js'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token keyword">const</span> renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>WebGLRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
renderer<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">)</span>
<span class="token keyword">const</span> effect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>AsciiEffect</span><span class="token punctuation">(</span> renderer<span class="token punctuation">,</span> <span class="token string">' .:-+*=%@#'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">invert</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
effect<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
effect<span class="token punctuation">.</span>domElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color<span class="token operator">=</span><span class="token string">'#fff'</span><span class="token punctuation">;</span>
effect<span class="token punctuation">.</span>domElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">;</span>
effect<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>scene<span class="token punctuation">,</span> camera<span class="token punctuation">)</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>effect<span class="token punctuation">.</span>domElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="雾化效果"><a href="#雾化效果" class="header-anchor">#</a> 雾化效果</h2> <p><a href="https://chasejourney.top/three_demo/index-12.html" target="_blank" rel="noopener noreferrer">demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/xwei111/three_demo/blob/master/index-12.html" target="_blank" rel="noopener noreferrer">代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>雾化效果需要给场景添加，如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> scene <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Scene</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span>fog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Fog</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> near<span class="token punctuation">,</span> far<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Fog参数：</p> <table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>color</td> <td>颜色</td></tr> <tr><td>near</td> <td>受雾化影响的最近距离(以相机位置为准)</td></tr> <tr><td>far</td> <td>受雾化影响的最远距离(以相机位置为准)</td></tr></tbody></table></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#前言" title="前言">前言</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#三要素" title="三要素">三要素</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#相机" title="相机">相机</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#正交相机-orthographiccamera" title="正交相机(OrthographicCamera)">正交相机(OrthographicCamera)</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#透视相机-perspectivecamera" title="透视相机(PerspectiveCamera)">透视相机(PerspectiveCamera)</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#几何体" title="几何体">几何体</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#长方形" title="长方形">长方形</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#长方体" title="长方体">长方体</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#圆" title="圆">圆</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#球体" title="球体">球体</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#圆柱体" title="圆柱体">圆柱体</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#正四面体" title="正四面体">正四面体</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#圆环面" title="圆环面">圆环面</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#圆环结" title="圆环结">圆环结</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#自定义形状" title="自定义形状">自定义形状</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#材质" title="材质">材质</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#基本材质" title="基本材质">基本材质</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#lambert材质" title="Lambert材质">Lambert材质</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#phong材质" title="Phong材质">Phong材质</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#法向材质" title="法向材质">法向材质</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#纹理" title="纹理">纹理</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#光" title="光">光</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#环境光" title="环境光">环境光</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#点光源" title="点光源">点光源</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#平行光" title="平行光">平行光</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#聚光灯" title="聚光灯">聚光灯</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#阴影" title="阴影">阴影</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#字体" title="字体">字体</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#外部模型" title="外部模型">外部模型</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#粒子" title="粒子">粒子</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#ascii效果" title="ASCII效果">ASCII效果</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#雾化效果" title="雾化效果">雾化效果</a></div></div></div></div> <footer class="footer" data-v-3d9deeb8><div class="footer-left-wrap" data-v-3d9deeb8><ul class="contact" data-v-3d9deeb8><li class="contact-item" data-v-3d9deeb8><a href="https://github.com/xwei111/chJouBlog" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-3d9deeb8><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-3d9deeb8><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-3d9deeb8></path></svg>
          
        </a></li><li class="contact-item" data-v-3d9deeb8><a href="mailto:17681828640@163.com" class="nav-link external" data-v-3d9deeb8><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail" data-v-3d9deeb8><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-v-3d9deeb8></path><polyline points="22,6 12,13 2,6" data-v-3d9deeb8></polyline></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-3d9deeb8><ul class="copyright" data-v-3d9deeb8><li class="copyright-item" data-v-3d9deeb8>追旅 © 2020</li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/chJouBlog/assets/js/app.5281558a.js" defer></script><script src="/chJouBlog/assets/js/15.3f4c1bb4.js" defer></script><script src="/chJouBlog/assets/js/3.04e6d7cd.js" defer></script><script src="/chJouBlog/assets/js/24.941abb95.js" defer></script>
  </body>
</html>
