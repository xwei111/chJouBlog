<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>多人协作之git commit规范 | 追旅</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="

日常工作多人协作项目非常常见，多人协作也就意味着需要一定的规范，众所周知eslint、tslint、stylelint、prettier ...">
    
    <link rel="preload" href="/chJouBlog/assets/css/0.styles.e386f8b7.css" as="style"><link rel="preload" href="/chJouBlog/assets/js/app.637ca0df.js" as="script"><link rel="preload" href="/chJouBlog/assets/js/14.08047fee.js" as="script"><link rel="preload" href="/chJouBlog/assets/js/3.be0a23e6.js" as="script"><link rel="preload" href="/chJouBlog/assets/js/13.987282e3.js" as="script"><link rel="prefetch" href="/chJouBlog/assets/js/10.ccc903ee.js"><link rel="prefetch" href="/chJouBlog/assets/js/11.113bd00f.js"><link rel="prefetch" href="/chJouBlog/assets/js/12.c7b819ff.js"><link rel="prefetch" href="/chJouBlog/assets/js/15.67449264.js"><link rel="prefetch" href="/chJouBlog/assets/js/16.2c1d384f.js"><link rel="prefetch" href="/chJouBlog/assets/js/17.65f66c36.js"><link rel="prefetch" href="/chJouBlog/assets/js/18.0bc97b03.js"><link rel="prefetch" href="/chJouBlog/assets/js/19.0580e76c.js"><link rel="prefetch" href="/chJouBlog/assets/js/20.95eeaf98.js"><link rel="prefetch" href="/chJouBlog/assets/js/21.bd4a19de.js"><link rel="prefetch" href="/chJouBlog/assets/js/22.9f3c83ab.js"><link rel="prefetch" href="/chJouBlog/assets/js/23.c1b49511.js"><link rel="prefetch" href="/chJouBlog/assets/js/24.041abde7.js"><link rel="prefetch" href="/chJouBlog/assets/js/25.385fa805.js"><link rel="prefetch" href="/chJouBlog/assets/js/26.c8cfce8d.js"><link rel="prefetch" href="/chJouBlog/assets/js/27.87e5e7a8.js"><link rel="prefetch" href="/chJouBlog/assets/js/28.a84cb340.js"><link rel="prefetch" href="/chJouBlog/assets/js/29.8db6ed7e.js"><link rel="prefetch" href="/chJouBlog/assets/js/30.00d96687.js"><link rel="prefetch" href="/chJouBlog/assets/js/31.3eeadbc2.js"><link rel="prefetch" href="/chJouBlog/assets/js/32.26cab367.js"><link rel="prefetch" href="/chJouBlog/assets/js/33.13efecb9.js"><link rel="prefetch" href="/chJouBlog/assets/js/34.5c53b0b7.js"><link rel="prefetch" href="/chJouBlog/assets/js/35.e38e3b31.js"><link rel="prefetch" href="/chJouBlog/assets/js/36.474ab5d1.js"><link rel="prefetch" href="/chJouBlog/assets/js/37.2595f469.js"><link rel="prefetch" href="/chJouBlog/assets/js/38.1c53e4d0.js"><link rel="prefetch" href="/chJouBlog/assets/js/39.ba98aab2.js"><link rel="prefetch" href="/chJouBlog/assets/js/4.104eeabc.js"><link rel="prefetch" href="/chJouBlog/assets/js/40.8ef98a47.js"><link rel="prefetch" href="/chJouBlog/assets/js/41.f100adb5.js"><link rel="prefetch" href="/chJouBlog/assets/js/42.abfb3eb9.js"><link rel="prefetch" href="/chJouBlog/assets/js/43.bf331c55.js"><link rel="prefetch" href="/chJouBlog/assets/js/44.25942854.js"><link rel="prefetch" href="/chJouBlog/assets/js/45.e716a95e.js"><link rel="prefetch" href="/chJouBlog/assets/js/46.780245fa.js"><link rel="prefetch" href="/chJouBlog/assets/js/47.aa2a446f.js"><link rel="prefetch" href="/chJouBlog/assets/js/48.55564a15.js"><link rel="prefetch" href="/chJouBlog/assets/js/49.cc17f3e5.js"><link rel="prefetch" href="/chJouBlog/assets/js/5.3f1a40d1.js"><link rel="prefetch" href="/chJouBlog/assets/js/50.dd00c9fe.js"><link rel="prefetch" href="/chJouBlog/assets/js/51.309837d2.js"><link rel="prefetch" href="/chJouBlog/assets/js/52.95c74877.js"><link rel="prefetch" href="/chJouBlog/assets/js/53.7127c8f2.js"><link rel="prefetch" href="/chJouBlog/assets/js/54.7ec42236.js"><link rel="prefetch" href="/chJouBlog/assets/js/55.8cb5e427.js"><link rel="prefetch" href="/chJouBlog/assets/js/56.307a4488.js"><link rel="prefetch" href="/chJouBlog/assets/js/57.55e63250.js"><link rel="prefetch" href="/chJouBlog/assets/js/58.31ad35f6.js"><link rel="prefetch" href="/chJouBlog/assets/js/59.32b3f003.js"><link rel="prefetch" href="/chJouBlog/assets/js/6.5d929397.js"><link rel="prefetch" href="/chJouBlog/assets/js/60.51b995dd.js"><link rel="prefetch" href="/chJouBlog/assets/js/61.885c3204.js"><link rel="prefetch" href="/chJouBlog/assets/js/62.1ba97633.js"><link rel="prefetch" href="/chJouBlog/assets/js/63.8756b95c.js"><link rel="prefetch" href="/chJouBlog/assets/js/7.3346f5ea.js"><link rel="prefetch" href="/chJouBlog/assets/js/8.6527695b.js"><link rel="prefetch" href="/chJouBlog/assets/js/9.6fb3d168.js"><link rel="prefetch" href="/chJouBlog/assets/js/vuejs-paginate.dad866b2.js">
    <link rel="stylesheet" href="/chJouBlog/assets/css/0.styles.e386f8b7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/chJouBlog/" class="nav-link home-link">追旅 </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/chJouBlog/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/chJouBlog/tag/" class="nav-link">Tags</a></li><li class="nav-item"><a href="/chJouBlog/author.html" class="nav-link">Author</a></li><li class="nav-item"><a href="/chJouBlog/log.html" class="nav-link">Log</a></li><li class="nav-item"><a href="https://github.com/xwei111/chJouBlog" target="_blank" rel="noopener noreferrer" class="nav-link external">GitHub</a></li><li class="nav-item"><a href="https://xwei111.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">XW-UI</a></li><li class="nav-item"><a href="https://ludd.link" target="_blank" rel="noopener noreferrer" class="nav-link external">Ludd</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/chJouBlog/" class="nav-link mobile-home-link">追旅 </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/chJouBlog/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/chJouBlog/tag/" class="nav-link">Tags</a></li><li class="mobile-nav-item"><a href="/chJouBlog/author.html" class="nav-link">Author</a></li><li class="mobile-nav-item"><a href="/chJouBlog/log.html" class="nav-link">Log</a></li><li class="mobile-nav-item"><a href="https://github.com/xwei111/chJouBlog" target="_blank" rel="noopener noreferrer" class="nav-link external">GitHub</a></li><li class="mobile-nav-item"><a href="https://xwei111.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">XW-UI</a></li><li class="mobile-nav-item"><a href="https://ludd.link" target="_blank" rel="noopener noreferrer" class="nav-link external">Ludd</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        多人协作之git commit规范
      </h1> <div class="post-meta"><div itemprop="publisher author" itemtype="http://schema.org/Person" itemscope="itemscope" class="post-meta-author"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-navigation"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg> <span itemprop="name">追旅</span> <span itemprop="address">   in 杭州滨江</span></div> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2020-07-23T00:00:00.000Z">
      Thu Jul 23 2020
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-42ccfcd5><a href="/chJouBlog/tag/git" data-v-42ccfcd5><span data-v-42ccfcd5>git</span></a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>日常工作多人协作项目非常常见，多人协作也就意味着需要一定的规范，众所周知eslint、tslint、stylelint、prettier等工具来帮助团队统一代码层面规范，同时提交代码也需要规范，这也是前端工程化进程中不可或缺的</p> <p>下图是element的日常commit，可以看到commit的格式为key: value 形式的，key是功能模块，value则是对具体改动的描述，这样是不是能够比较清晰的描述commit</p> <p><img src="/chJouBlog/assets/img/20200723gitcommit-1.c3b55d0b.png" alt="An image"></p> <p>好的commit规范可以提供清晰的改动模块、信息、日志，目前业界比较认可<a href="https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit" target="_blank" rel="noopener noreferrer">Angular规范<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，我们先来间了解一下</p> <h2 id="规范"><a href="#规范" class="header-anchor">#</a> 规范</h2> <p>一个commit messgae分为三部分：Header、Body、Footer，其中Header是必填的</p> <ul><li>Header</li></ul> <p>Header中包含type、scope、subject</p> <p>type类型，除了以下类型你也可以根据自己的项目自定义类型</p> <table><thead><tr><th>type</th> <th>描述</th></tr></thead> <tbody><tr><td>feat</td> <td>新功能</td></tr> <tr><td>fix</td> <td>修复bug</td></tr> <tr><td>refactor</td> <td>代码重构</td></tr> <tr><td>docs</td> <td>文档</td></tr> <tr><td>style</td> <td>样式</td></tr> <tr><td>test</td> <td>测试代码</td></tr> <tr><td>chore</td> <td>其他修改</td></tr> <tr><td>pref</td> <td>优化</td></tr> <tr><td>build</td> <td>构建依赖包改动</td></tr> <tr><td>ci</td> <td>CI修改</td></tr></tbody></table> <p>scope： 此次commit影响范围或涉及模块（例： package.json）</p> <p>subject： 此次改动的描述</p> <ul><li>Body</li></ul> <p>Body是对此次改动的详细描述</p> <ul><li>Footer</li></ul> <p>Footer是一些备注, 通常是 BREAKING CHANGE 或修复的 bug 的链接</p> <h2 id="commitizen"><a href="#commitizen" class="header-anchor">#</a> Commitizen</h2> <p>Commitizen是一个 Commit message 的工具，可以很好的帮助我们</p> <p>安装</p> <div class="language- extra-class"><pre class="language-text"><code>npm install Commitizen -g
</code></pre></div><p>安装完成后进入项目执行（node项目 ）</p> <div class="language- extra-class"><pre class="language-text"><code>commitizen init cz-conventional-changelog --save --save-exact
</code></pre></div><p>安装完毕之后，git commit操作就要用git cz来代替，当然你可以继续使用git commit，至于如何避免git commit提交的信息不规范我们稍后再讨论，先来看一下git cz命令，如下：</p> <p><img src="data:image/png;base64,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" alt="An image"></p> <p>这一步是让选择此次commit的类型，选择相应类型回车即可，之后会有如下步骤：</p> <div class="language- extra-class"><pre class="language-text"><code># 填写此次的改动影响范围，继续
What is the scope of this change (e.g. component or file name): (press enter t
o skip)

</code></pre></div><div class="language- extra-class"><pre class="language-text"><code># 写一个简短的描述，继续
 Write a short, imperative tense description of the change (max 88 chars)
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code># 做个详细描述，继续
Provide a longer description of the change
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code># 是否是BREAKING CHANGE，没有回车即可
Are there any breaking changes
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code># 是否关联已开启的问题，没有回车
Does this change affect any open issues
</code></pre></div><p>ok到此我们已经完成一个标准的commit，git log看一下：</p> <div class="language- extra-class"><pre class="language-text"><code>Author: sf_cxw &lt;17681828640@163.com&gt;
Date:   Thu Jul 23 12:06:32 2020 +0800

    feat(用户管理): 添加黑白名单

    为了控各个用户权限

</code></pre></div><h2 id="commit校验"><a href="#commit校验" class="header-anchor">#</a> commit校验</h2> <p>回到刚刚提到的git commit使用不规范的问题，我们需要在commit message时加入检验</p> <p>安装@commitlint/cli、@commitlint/config-conventional(检验规则)</p> <div class="language- extra-class"><pre class="language-text"><code>npm|cnpm install @commitlint/config-conventional @commitlint/cli -D
</code></pre></div><p>生成commitlint.config.js，也可选择在commitlint.config.js中自行配置，<a href="https://www.npmjs.com/package/@commitlint/config-conventional" target="_blank" rel="noopener noreferrer">配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language- extra-class"><pre class="language-text"><code>echo &quot;module.exports = {extends: ['@commitlint/config-conventional']}&quot; &gt; commitlint.config.js
</code></pre></div><h3 id="husky"><a href="#husky" class="header-anchor">#</a> husky</h3> <p>如何触发校验呢？？？这里需要了解一下<code>Git hooks</code>，<code>Git Hooks</code> 就是那些在Git执行特定事件（如commit、push等）后触发运行的脚本，当我们<code>git init</code>操作时.git/hooks目录下回默认生成一些挂钩，.sample 拓展名防止它们默认被执行。提交代码时的eslint、stylelint检验其实也是这个道理。</p> <p>在这里使用<a href="https://www.npmjs.com/package/husky" target="_blank" rel="noopener noreferrer">husky<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>来帮助我们完成校验工作，<a href="https://www.npmjs.com/package/husky" target="_blank" rel="noopener noreferrer">husky<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>安装的过程中会在.git/hooks目录中生成一些我们需要的钩子。</p> <p>安装</p> <div class="language- extra-class"><pre class="language-text"><code>npm|cnpm install husky -D
</code></pre></div><p><img src="/chJouBlog/assets/img/20200723gitcommit-3.f4cfe180.png" alt="An image"></p> <p>如上图所示表示安装成功（一定要看清楚自己是否安装成功，博主吃过亏😢 😢 😢）</p> <p>安装完成后在package.json中加入</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;husky&quot;: {
    &quot;hooks&quot;: {
      &quot;pre-commit&quot;: &quot;lint-staged&quot;, // 此处是你的eslint、stylelint等校验，没有无需配置
      &quot;commit-msg&quot;: &quot;commitlint -E HUSKY_GIT_PARAMS&quot;
    }
  }
</code></pre></div><p>到此commit校验也已经配置完毕，看一下执行效果</p> <div class="language- extra-class"><pre class="language-text"><code>$ git commit -m '1'
husky &gt; commit-msg (node v10.16.0)
猝?  input: 1
鉁?  subject may not be empty [subject-empty]
鉁?  type may not be empty [type-empty]

鉁?  found 2 problems, 0 warnings
鈸?  Get help: https://github.com/conventional-changelog/commitlint/#what-is-commitlint

husky &gt; commit-msg hook failed (add --no-verify to bypass)

</code></pre></div><p>现在不按着规范来已经不能正常commit代码了，按照规范提交代码就能够通过，如下</p> <div class="language- extra-class"><pre class="language-text"><code>$ git commit -m 'fix:  修复了一万个bug'
husky &gt; commit-msg (node v10.16.0)
[master (root-commit) 79f5922] fix:  淇浜嗕竴涓囦釜bug
 4 files changed, 2001 insertions(+)
 create mode 100644 .gitignore
 create mode 100644 commitlint.config.js
 create mode 100644 package-lock.json
 create mode 100644 package.json
</code></pre></div><p>现在使用git commit已经变得很麻烦了，所有我们以后都用git cz来代替git commit</p> <h2 id="日志及版本"><a href="#日志及版本" class="header-anchor">#</a> 日志及版本</h2> <p>上文提到了好的commit规范还能够提供不错的日志，<a href="https://github.com/conventional-changelog/conventional-changelog" target="_blank" rel="noopener noreferrer">conventional-changelog<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，便可以给我们提供日志，但是我们有更好的选择：<a href="https://www.npmjs.com/package/standard-version" target="_blank" rel="noopener noreferrer">standard-version<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.npmjs.com/package/standard-version" target="_blank" rel="noopener noreferrer">standard-version<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>除了帮助我们生成日志外，还可以协助我们控制项目版本及打tag</p> <p>全局安装</p> <div class="language- extra-class"><pre class="language-text"><code>npm|cnpm install standard-version -g
</code></pre></div><p><code>package.json</code>中加入</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;scripts&quot;: {
    &quot;release&quot;: &quot;standard-version --release-as&quot;,
    &quot;release:100&quot;: &quot;npm run release -- major&quot;,
    &quot;release:010&quot;: &quot;npm run release -- minor&quot;,
    &quot;release:001&quot;: &quot;npm run release -- patch&quot;
}
</code></pre></div><ul><li>major：主版本</li> <li>minor：次版本</li> <li>patch：修订版</li> <li>release：自定义版本npm run release -- 1.0.0</li> <li>release:100：执行该脚本, 那么如果当前版本是 1.0.0 那么版本将被提升至 2.0.0</li> <li>release:010: 执行该脚本, 那么如果当前版本是 1.0.0 那么版本将被提升至 1.1.0</li> <li>release:001: 执行该脚本, 那么如果当前版本是 1.0.0 那么版本将被提升至 1.0.1</li></ul> <p>执行上述命令时，会有三个动作：生成版本、打tag、生成日志，日志存放于<code>CHANGELOG.md</code>中，具体效果如下</p> <div class="language- extra-class"><pre class="language-text"><code>$ git tag
v1.0.1
v1.0.2
v2.0.0
</code></pre></div><p><img src="/chJouBlog/assets/img/20200723gitcommit-4.7075ee4f.png" alt="An image"></p> <p>日志实际效果见<a href="/chJouBlog/log">追旅博客日志</a></p> <h2 id="结语"><a href="#结语" class="header-anchor">#</a> 结语</h2> <p>学海真滴无涯 😂 😂</p></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#前言" title="前言">前言</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#规范" title="规范">规范</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#commitizen" title="Commitizen">Commitizen</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#commit校验" title="commit校验">commit校验</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#husky" title="husky">husky</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#日志及版本" title="日志及版本">日志及版本</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#结语" title="结语">结语</a></div></div></div></div> <footer class="footer" data-v-3d9deeb8><div class="footer-left-wrap" data-v-3d9deeb8><ul class="contact" data-v-3d9deeb8><li class="contact-item" data-v-3d9deeb8><a href="https://github.com/xwei111/chJouBlog" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-3d9deeb8><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-3d9deeb8><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-3d9deeb8></path></svg>
          
        </a></li><li class="contact-item" data-v-3d9deeb8><a href="mailto:17681828640@163.com" class="nav-link external" data-v-3d9deeb8><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail" data-v-3d9deeb8><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-v-3d9deeb8></path><polyline points="22,6 12,13 2,6" data-v-3d9deeb8></polyline></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-3d9deeb8><ul class="copyright" data-v-3d9deeb8><li class="copyright-item" data-v-3d9deeb8>追旅 © 2020</li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/chJouBlog/assets/js/app.637ca0df.js" defer></script><script src="/chJouBlog/assets/js/14.08047fee.js" defer></script><script src="/chJouBlog/assets/js/3.be0a23e6.js" defer></script><script src="/chJouBlog/assets/js/13.987282e3.js" defer></script>
  </body>
</html>
