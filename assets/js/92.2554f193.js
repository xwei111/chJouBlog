(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{631:function(a,t,s){"use strict";s.r(t);var e=s(6),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"前言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[a._v("#")]),a._v(" 前言")]),a._v(" "),t("p",[a._v("最近要从老平台迁出一个新平台，但是和新平台相关的几个迭代仍然在老工程上进行，新工程上线前需要把老工程正在进行的几个迭代代码合并过来，这就牵扯到了两个不同仓库的合并，有两个办法")]),a._v(" "),t("p",[a._v("一、手动合并")]),a._v(" "),t("ol",[t("li",[a._v("比较笨重，很容易出错，新老工程如果改动相同文件，合并变得相当复杂（而这种复杂需要人为去对比两个文件的差异进行修改才能避免出错，在不同迭代可能因为沟通不及时，直接将他人代码覆盖，所以尽量避免手动合并）")]),a._v(" "),t("li",[a._v("如果涉及东西较少且迭代单一时可以使用此种方式")]),a._v(" "),t("li",[a._v("如果涉及东西较多，此种方式无论在哪次合并都非常复杂且出错率较高")])]),a._v(" "),t("p",[a._v("二、"),t("code",[a._v("git")]),a._v("合并")]),a._v(" "),t("ol",[t("li",[a._v("不容易出错，遇到冲突也很明确冲突部分在哪里")]),a._v(" "),t("li",[a._v("第一次合并比较麻烦，需解决较多冲突，后续合并和日常合并无异")])]),a._v(" "),t("p",[a._v("因为我们项目有几个不同的迭代，合并的时间、范围无法确定，且涉及文件较多，所以采用"),t("code",[a._v("git")]),a._v("方式进行合并，达到一劳永逸的效果")]),a._v(" "),t("h2",{attrs:{id:"git合并"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git合并"}},[a._v("#")]),a._v(" git合并")]),a._v(" "),t("h3",{attrs:{id:"拉取新仓库代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#拉取新仓库代码"}},[a._v("#")]),a._v(" 拉取新仓库代码")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("git clone https://gitlab.xxxx.com/xxxx/xxxx.git\n")])])]),t("h3",{attrs:{id:"添加第二个远程仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加第二个远程仓库"}},[a._v("#")]),a._v(" 添加第二个远程仓库")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("git remote add saas2 https://gitlab.xxxx.com/xxxx/xxxx.git \n\nsaas2为自定义远程仓库名称\n")])])]),t("h3",{attrs:{id:"拉取远程代码-非合并"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#拉取远程代码-非合并"}},[a._v("#")]),a._v(" 拉取远程代码(非合并)")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("git fetch saas2\n\n添加远程仓库时已经将仓库命名为saas2\n")])])]),t("h3",{attrs:{id:"创建分支并拉取需合并分支代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建分支并拉取需合并分支代码"}},[a._v("#")]),a._v(" 创建分支并拉取需合并分支代码")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("git checkout -b test saas2/master\n\n此步将远程仓库saas2 master分支代码拉到本地分支 test\n")])])]),t("h3",{attrs:{id:"创建分支合并代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建分支合并代码"}},[a._v("#")]),a._v(" 创建分支合并代码")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("创建新的分支用来合并代码、解决冲突， 无问题后在合并到master\n\ngit checkout -b mergeSaas2\n\ngit merge test --allow-unrelated-histories\n\n拒绝合并时，添加--allow-unrelated-histories强行合并\n")])])]),t("h3",{attrs:{id:"解决冲突"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解决冲突"}},[a._v("#")]),a._v(" 解决冲突")]),a._v(" "),t("p",[a._v("除了初次合并时冲突较多，后续合并都比较方便（本项目已完成初次代码合并）")]),a._v(" "),t("h3",{attrs:{id:"合并到master"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#合并到master"}},[a._v("#")]),a._v(" 合并到master")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("git checkout master\n\ngit merge mergeSaas2\n")])])]),t("h2",{attrs:{id:"结语"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#结语"}},[a._v("#")]),a._v(" 结语")]),a._v(" "),t("p",[a._v("谁说代沟和年龄有关0.0")])])}),[],!1,null,null,null);t.default=r.exports}}]);